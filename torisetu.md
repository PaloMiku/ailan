<img src="https://github.com/syuilo/ai/blob/master/ai.png?raw=true" align="right" height="320px"/>

# 使用说明书

## 简介
[点击此处](https://xn--931a.moe/)

## 蓝的主要功能
### 打招呼
当你说「早上好」「晚安」等话语时，它会做出回应。

### 占卜
对蓝说「占卜」，它会为你占卜今日运势。

### 计时器
当指定的小时、分钟、秒数过去后，它会提醒你。也可以像「3 分 40 秒」这样混合单位使用。

### 提醒功能
@ai remind 打扫房间
```
像这样提及它，它会每隔 12 小时提醒你。对提及消息或蓝的催促回复「已完成」或「已取消」，即可解除提醒。
此外，也可以通过引用转发（Renote）来提及它。

### 表情组合
对蓝说「表情」，它会告诉你它想到的表情组合。

### 掷骰子
告诉它骰子符号表示法，它就会帮你掷骰子。
示例: "2d6"（掷 2 次 6 面骰子）、"3d5"（掷 3 次 5 面骰子）

### 迷宫
说「迷宫」，它会为你绘制迷宫。添加「难」「简单」等词语，还能调整难度。

### 猜数字游戏
给蓝发送消息说「猜数字游戏」，就可以玩。
这是一个猜蓝所想数字的游戏。

### 抢数游戏
对蓝说「抢数游戏」，就可以玩。
这是一个多人游戏，说出最大数字的人获胜。

### 黑白棋
可以和蓝下黑白棋。（该功能在某些实例中可能被禁用）
对蓝说「黑白棋」，或者在黑白棋中指定蓝，就可以对局。
还能调整难度。

### 学习
它偶尔会「记住」时间线里出现的关键词。
（该功能在某些实例中可能被禁用）

### 教它称呼
可以教蓝该怎么称呼你。
不过，需要达到后文所述的一定亲密度才行。
（仅在聊天中生效）

### 欢迎新人
在 Misskey 创建账号并首次发帖时，蓝会用猫耳天线捕捉到这个消息，并通过转发（Renote）告知大家。

### 关注我
对蓝说「关注我」，它就会关注你。

### 生日快乐
蓝会为你庆祝生日。

### 情人节礼物
蓝会送你巧克力。

### 图表
它会发布实例的发帖图表等内容。

### 服务器监控
监控服务器状态，当负载过高时会告知你。

### ping
回复 PONG。可用于确认其是否在线。

### 自定义表情检查
它会每天检查一次自定义表情的新增情况。说「自定义表情检查」「自定义 emoji 检查」「检查自定义 emoji」，它会立即进行检查。使用该功能时，可能需要重新生成蓝的访问令牌。**请为运行蓝的机器人账号赋予管理员权限，并创建一个为机器人账号额外赋予「查看表情」权限的访问令牌，然后进行设置**。

### aichat
```
@ai aichat 告诉我打扫房间的步骤
```
像这样提及它，它会使用 Google 的 Gemini API 等进行回复（当前版本仅支持 Gemini API）。使用该功能需要注册 API 密钥。回复蓝的回复，它会在指定时间内进一步回复你。在消息中加入 **ggg**，它会进行基于 Google 搜索的知识增强回复（不过，AI 可能会判断不进行搜索）。
注册 API 密钥后，在设置中将 aichatRandomTalkEnabled 设置为 true，就可以开启随机聊天（随机触发 aichat）功能。可以在设置中指定随机聊天间隔和随机聊天概率。
在设置中将 aichatGroundingWithGoogleSearchAlwaysEnabled 设置为 true，在提及它时，它会始终尝试进行基于 Google 搜索的知识增强回复（无需输入 ggg。不过，AI 可能会判断不进行搜索）。截至 2025 年 2 月，该知识增强功能[每天可使用 1000 次](https://ai.google.dev/gemini-api/docs/models/gemini-v2?hl=ja#search-tool)。

#### aichat 详细说明

* 如果 aichat 或回复中包含 URL，它会使用 Misskey 的摘要代理获取信息后再进行回复。
* 如果 aichat 或回复中附带了文件，它会基于该文件进行回复。
  * 支持图片、PDF、音频、视频（短时长）、文本格式的文件。
  * 不过，最好不要发送敏感文件，可能会出现问题。
* 进行 aichat 时（mentionHook），如果有引用笔记，它会参考该笔记的正文进行回复。
* 回复 aichat 的结果时，它会结合该信息进行回复。
  * 回复超过 10 条后将不再参考。
  * 修改「exist.history.length > 10」中的数字，就可以增减参考的回复数量（回复数量过多、发送的内容过长可能会导致无响应或出错，请谨慎操作）。
  * 监控回复的时间可以通过常量 TIMEOUT_TIME 进行修改（默认 30 分钟）。
* 随机聊天功能仅在满足设定概率、亲密度达到指定值（7）以上且对方不是机器人时才会执行。
  * 如果想更改条件，请修改源代码。

### 其他会触发反应的短语（仅在聊天中）
* 可爱
* 摸摸
* 喜欢
* 抱抱
* 骂我
* 踩我
* 疼

## 亲密度
蓝对你有亲密度。
和蓝打招呼等行为会让亲密度逐渐提升。
亲密度不同，它的反应和各种台词也会不同。亲密度不够的话，有些事情它可能不会做。
